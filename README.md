# SMEV
![alt text](https://github.com/disant9807/SMEV/blob/main/Schema.png?raw=true)

Микросервисное решение реализации адаптера СМЭВ. Представляет собой сервисы на java 8 JDK OpenLogic 8u372-b07, которая поддерживается в AstraLinux. Решение не реализовано до конца, часть сервисов представляет собой просто концепт.

## Сервис BinaryStorage (Реализован).
### Описание
Реализует абстракцию хранения, поиска и получения бинарных данных, при необходимости снабженных метаописанием.
API хранилища предоставляет возможность получить свойства бинарных данных по идентификатору, получить запрошенный фрагмент бинарных данных с указанной начальной позиции нужного размера.\  
:white_check_mark: Реализация- [Смотреть тут](https://github.com/disant9807/SmevBinarystorage)

## Сервис Подписи DigSigner (Реализован).
### Описание
Подписание ЭЦП по ГОСТ 2012 с помощью КриптоПро JCP 2.*. Подписывает присоединенную и отсоединнную подпись. Позволяет подписывать XML по правилам СМЭВ.\
:white_check_mark: Реализация- [Смотреть тут](https://github.com/disant9807/QuerySign/tree/master)

## Сервис Gate Концепт (не реализован).
### Описание
Непосредственное взаимодействие со СМЭВ. Получение, отправка и маршрутизация запросов и ответов. Подписание ОИВ.
### Основные задачи gate:
- Получить сообщение-запрос из СМЭВ, определить, кому предназначено данное сообщение и направить его в систему обработчик соответствующих запросов
- Получить ответ от системы-получателя, подписать его подписью ОИВ и направить его в СМЭВ.
- Получить запрос в СМЭВ извне, подписать его подписью ОИВ и отправить в СМЭВ.
- Получить сообщение-ответ на ранее отправленный запрос из СМЭВ и направить его в систему, которая отправляла запрос.

:black_square_button: Концепт реализации обработки входящих запосов - [Смотреть тут](https://github.com/disant9807/GateSmev/blob/1ddcfcd53aeba0100e76a502060f294cdb3a3f75/server/src/main/java/ru/spandco/binstorage/server/sheduling/SmevRequestWatcher.java) \ 
:black_square_button: Концепт реализации контроллера, предоставляемого другим сервисам (прокси). - [Смотреть тут](https://github.com/disant9807/GateSmev/blob/1ddcfcd53aeba0100e76a502060f294cdb3a3f75/server/src/main/java/ru/spandco/binstorage/server/controllers/GateController.java) 
